(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{41:function(e,t,n){},42:function(e,t,n){},68:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n(0),o=n.n(a),r=n(7),i=n.n(r),s=(n(41),n(34)),u=n(3),j=(n(42),n(11)),l=n.n(j),b=n(12),p=n(16),d=n(17),h=n.n(d),O=h.a.create({baseURL:"https://geocode-maps.yandex.ru/1.x/"}),g=h.a.create({baseURL:"https://search-maps.yandex.ru/v1/"}),m=function(e){return O.get("?geocode=".concat(e))},f=function(e,t,n,c){return g.get("?text=".concat(e,", ").concat(t,", ").concat(n," &type=biz&lang=ru_RU&results=").concat(c))};O.interceptors.request.use(function(){var e=Object(p.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.params=Object(b.a)(Object(b.a)({},t.params),{},{apikey:"62863b39-ff46-4e0f-a09b-34ed4079f28a",format:"json"}),e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),(function(e){return Promise.reject(e)}));g.interceptors.request.use(function(){var e=Object(p.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.params=Object(b.a)(Object(b.a)({},t.params),{},{apikey:"568dafa6-e76b-459f-adab-c4761fc807ed"}),e.abrupt("return",t);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),(function(e){return Promise.reject(e)}));var v=n(18),x=n(6),y=n.p+"static/media/cut-map-marker-final.80322ebe.jpg",S=o.a.memo((function(e){return Object(c.jsx)(x.e,{children:Object(c.jsx)("div",{children:Object(c.jsxs)(x.a,{className:"map",onClick:function(t){e.getMapCoordinates(t)},state:{center:[e.searchObjectLatitude,e.searchObjectLongitude],zoom:10},children:[Object(c.jsx)(x.f,{options:{position:{right:10,top:10}}}),Object(c.jsx)(x.d,{options:{position:{left:10,top:10}}}),Object(c.jsx)(x.c,{options:{position:{right:50,top:10}}}),e.displaySearchObjects.map((function(e){return Object(c.jsx)(x.b,{geometry:[e.newSchoolLatitude,e.newSchoolLongitude],modules:["geoObject.addon.balloon","geoObject.addon.hint"],properties:{hintContent:e.schoolName,balloonContent:e.description},options:{iconLayout:"default#image",iconImageHref:y,iconImageSize:[40,50],iconImageOffset:[-20,-55]}})})),e.itMinskSchools.map((function(e){return Object(c.jsx)(x.b,{geometry:[e.newSchoolLatitude,e.newSchoolLongitude],modules:["geoObject.addon.balloon","geoObject.addon.hint"],properties:{hintContent:e.schoolName,balloonContent:e.schoolDescription},options:{iconLayout:"default#image",iconImageHref:"https://image.freepik.com/free-vector/3d-gps-red-color-icon-dropping-on-street-map-on-white_175838-446.jpg",iconImageSize:[80,60],iconImageOffset:[-40,-30]}})}))]})})})})),C=n(83);var L=function(){var e=Object(a.useState)(""),t=Object(u.a)(e,2),n=t[0],o=t[1],r=Object(a.useState)(""),i=Object(u.a)(r,2),j=i[0],l=i[1],b=Object(a.useState)(0),p=Object(u.a)(b,2),d=p[0],h=p[1],O=Object(a.useState)(0),g=Object(u.a)(O,2),x=g[0],y=g[1],L=Object(a.useState)([]),k=Object(u.a)(L,2),w=k[0],N=k[1],T=Object(a.useState)(""),I=Object(u.a)(T,2),M=I[0],P=I[1],z=Object(a.useState)(""),D=Object(u.a)(z,2),F=D[0],A=D[1],R=Object(a.useState)(""),U=Object(u.a)(R,2),q=U[0],B=U[1],G=Object(a.useState)(1),H=Object(u.a)(G,2),J=H[0],_=H[1],E=Object(a.useState)([]),V=Object(u.a)(E,2),K=V[0],Q=V[1],W=Object(a.useState)(50.5),X=Object(u.a)(W,2),Y=X[0],Z=X[1],$=Object(a.useState)(30.5),ee=Object(u.a)($,2),te=ee[0],ne=ee[1],ce=Object(a.useState)(!0),ae=Object(u.a)(ce,2),oe=ae[0],re=ae[1],ie=function(e,t){var n={id:Object(v.v1)(),schoolName:t,schoolDescription:e,newSchoolLatitude:d,newSchoolLongitude:x};N([].concat(Object(s.a)(w),[n]))},se=Object(a.useCallback)((function(e){var t=e.get("coords");h(+t[0]),y(+t[1])}),[]);return Object(c.jsxs)("div",{className:"App",children:[Object(c.jsxs)("div",{className:"navigation",children:[Object(c.jsxs)("div",{children:[Object(c.jsx)("p",{children:"\u0441\u043c\u0435\u043d\u0438\u0442\u044c \u0440\u0435\u0436\u0438\u043c"}),Object(c.jsx)(C.a,{checked:oe,onChange:function(e){re(e.target.checked),console.log("showingAddObjectNavigation ",oe)},name:"toggle"})]}),oe?Object(c.jsxs)("div",{className:"addObjectPanel",children:[Object(c.jsx)("div",{children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0448\u043a\u043e\u043b\u0443"}),Object(c.jsx)("div",{children:Object(c.jsx)("input",{type:"text",name:"schoolName",value:n,placeholder:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0448\u043a\u043e\u043b\u044b",onChange:function(e){o(e.currentTarget.value)}})}),Object(c.jsx)("div",{children:Object(c.jsx)("input",{type:"text",name:"schoolDescription",value:j,placeholder:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435",onChange:function(e){e.currentTarget.value.length>20&&console.log("Value is more"),l(e.currentTarget.value)}})}),Object(c.jsxs)("div",{children:[Object(c.jsx)("div",{children:"\u041a\u043e\u043e\u0440\u0434\u0438\u043d\u0430\u0442\u044b"}),Object(c.jsx)("input",{type:"text",value:d,placeholder:"\u0428\u0438\u0440\u043e\u0442\u0430",onChange:function(e){h(e.currentTarget.value.replace(/[^\d\.]/g,""))}}),Object(c.jsx)("input",{type:"text",value:x,placeholder:"\u0414\u043e\u043b\u0433\u043e\u0442\u0430",onChange:function(e){y(e.currentTarget.value.replace(/[^\d\.]/g,""))}})]}),Object(c.jsx)("input",{type:"button",name:"addNewItSchoolMinsk",value:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043d\u0430 \u043a\u0430\u0440\u0442\u0443",onClick:function(){ie(j,n),Z(d),ne(x)}})]}):Object(c.jsxs)("div",{className:"searchObjectPanel",children:[Object(c.jsx)("div",{children:"\u041d\u0430\u0439\u0442\u0438 \u043e\u0431\u044a\u0435\u043a\u0442(\u044b)"}),Object(c.jsxs)("div",{children:[Object(c.jsx)("input",{type:"text",name:"locationName",value:M,placeholder:"\u041b\u043e\u043a\u0430\u0446\u0438\u044f",onChange:function(e){P(e.currentTarget.value)}}),Object(c.jsx)("input",{type:"button",name:"searchLocation",value:"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u043b\u043e\u043a\u0430\u0446\u0438\u044e \u043d\u0430 \u043a\u0430\u0440\u0442\u0435",onClick:function(){var e;(e=M,m(e).then((function(e){return e.data.response.GeoObjectCollection.featureMember[0].GeoObject.Point.pos.split(" ").reverse()})).catch((function(e){}))).then((function(e){e.length&&(Z(Number(e[0])),ne(+e[1]))}))}})]}),Object(c.jsxs)("div",{children:[Object(c.jsx)("div",{children:"\u0423\u0442\u043e\u0447\u043d\u0435\u043d\u0438\u0435 \u043f\u043e\u0438\u0441\u043a\u0430"}),Object(c.jsx)("input",{type:"text",name:"searchObjectType",value:F,placeholder:"\u0422\u0438\u043f \u043e\u0431\u044a\u0435\u043a\u0442\u0430",onChange:function(e){A(e.currentTarget.value)}}),Object(c.jsx)("input",{type:"text",value:q,name:"streatName",placeholder:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0443\u043b\u0438\u0446\u044b",onChange:function(e){B(e.currentTarget.value)}}),Object(c.jsx)("input",{type:"number",name:"objectCount",value:J,min:"1",max:"20",title:"\u0421\u043a\u043e\u043b\u044c\u043a\u043e \u043c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u043e \u0432\u044b\u0432\u0435\u0441\u0442\u0438 \u043e\u0431\u044a\u0435\u043a\u0442\u043e\u0432 \u043e\u0442 1 \u0434\u043e 20",placeholder:"\u043c\u0430\u0445 \u043a\u043e\u043b-\u0432\u043e",onChange:function(e){_(Math.round(+e.currentTarget.value))}})]}),Object(c.jsx)("input",{type:"button",name:"showNearbyObjects",value:"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u043e\u0431\u044a\u0435\u043a\u0442(\u044b) \u043d\u0430 \u043a\u0430\u0440\u0442\u0435",onClick:function(){(function(e,t,n,c){return f(e,t,n,c).then((function(e){return e.data.features})).catch((function(e){}))})(F,M,q,J).then((function(e){if(e.length){var t=e.map((function(e){return{description:e.properties.description,id:Object(v.v1)(),schoolName:e.properties.name,newSchoolLatitude:e.geometry.coordinates[1],newSchoolLongitude:e.geometry.coordinates[0],phone:777654}}));Q(t)}}))}}),Object(c.jsx)("p",{children:"\u041e\u0431\u044a\u0435\u043a\u0442\u043e\u0432 \u043d\u0430\u0439\u0434\u0435\u043d\u043e : "})," ",K.length]})]}),Object(c.jsx)("div",{className:"mapArea",children:Object(c.jsx)(S,{getMapCoordinates:se,searchObjectLatitude:Y,searchObjectLongitude:te,displaySearchObjects:K,itMinskSchools:w})})]})},k=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,84)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,o=t.getLCP,r=t.getTTFB;n(e),c(e),a(e),o(e),r(e)}))};i.a.render(Object(c.jsx)(o.a.StrictMode,{children:Object(c.jsx)(L,{})}),document.getElementById("root")),k()}},[[68,1,2]]]);
//# sourceMappingURL=main.9ab7f361.chunk.js.map